<script src="/assets/js/uvdocs.js" async defer></script>
<script src="{{ site.baseurl }}/js/jekyll-search.js" type="text/javascript"></script>
<script type="text/javascript">
    
    initializeSearchBarHandler();
    window.addEventListener('resize', () => {
       initializeSearchBarHandler(); 
    });

    function initializeSearchBarHandler() {
        

        SimpleJekyllSearch.init({
            searchInput: document.querySelector('.inline-header .searchbar .searchBox'),
            resultsContainer: document.querySelector('.inline-header .searchbar .results-container'),
            dataSource: '{{ side.baseurl }}/search.json',
            searchResultTemplate: '<li><a onclick="saveSearchTerm(event)" href="{url}" title="{title}">{title}<\/a><\/li>',
            noResultsText: '<li><a href="javascript:void(0)">No Results Found</a></li>',
            fuzzy: true
        });

        if (window.innerWidth < 1000) {
            SimpleJekyllSearch.init({
                searchInput: document.querySelector('.hamburger-menu-wrapper .searchbar .searchBox'),
                resultsContainer: document.querySelector('.hamburger-menu-wrapper .searchbar .results-container'),
                dataSource: '{{ side.baseurl }}/search.json',
                searchResultTemplate: '<li><a onclick="saveSearchTerm(event)" href="{url}" title="{title}">{title}<\/a><\/li>',
                noResultsText: '<li><a href="javascript:void(0)">No Results Found</a></li>',
                fuzzy: true
            });
        }
    }
    
    function dropdownSelectionKeydown(event) {
        // const resultsContainer = event.target.nextElementSibling;
        // if (resultsContainer.children.length > 0 && (event.keyCode === 38 || event.keyCode === 40)) {
        //     if (searchBoxResultSelectedItem()) {
        //         removeDropdownItem(searchBoxResultSelectedItem());
        //     }
        //     switch(event.keyCode) {
        //         case 38:
        //             searchBoxResultSelectedItem(searchBoxResultSelectedItem() ? (searchBoxResultSelectedItem().previousElementSibling ? searchBoxResultSelectedItem().previousElementSibling : resultsContainer.children[resultsContainer.children.length - 1]) : resultsContainer.children[resultsContainer.children.length-1])
        //             addDropdownItem(searchBoxResultSelectedItem());
        //             break;
                
        //         case 40:
        //             searchBoxResultSelectedItem(searchBoxResultSelectedItem() ? (searchBoxResultSelectedItem().nextElementSibling ? searchBoxResultSelectedItem().nextElementSibling : resultsContainer.children[0]) : resultsContainer.children[0]);
        //             console.log(searchBoxResultSelectedItem().firstElementChild);
        //             console.log(searchBoxResultSelectedItem().nextElementSibling.firstElementChild);
        //             console.log(resultsContainer.childNodes[0].firstElementChild);
        //             addDropdownItem(searchBoxResultSelectedItem());
        //             break;
        //     }
        // }
    }

    function saveSearchTerm(event) {
        sessionStorage.setItem("search", event.target.parentNode.parentNode.previousElementSibling.value);
    }

    function addDropdownItem(item) {
        item.firstElementChild.classList.add('select-dropdown-item');
    }
    
    function removeDropdownItem(item) {
        item.firstElementChild.classList.remove('select-dropdown-item');
    }

<<<<<<< HEAD
=======
    function addDisplayNoneResultsContainer(event) {
        // event.target.nextElementSibling.classList.add('display-none');
    }

>>>>>>> 7a8f62fc60cd2509b93ce070b8b928ec277eb2bd
    function removeDisplayNoneResultsContainer(event) {
        event.target.nextElementSibling.classList.remove('display-none');
    }

</script>